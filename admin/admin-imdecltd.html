<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Admin Dashboard - Impact Decor Ltd</title>
    
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body class="admin-dashboard-body">
    <div class="admin-dashboard-pattern"></div>

    <div class="admin-dashboard-shell">
        <header class="admin-dashboard-header">
            <div class="admin-brand-group">
                <div class="admin-brand-badge">
                    <span>ID</span>
                </div>
                <div class="admin-brand-meta">
                    <h1>Impact Decor</h1>
                    <p>Media Admin Suite</p>
                </div>
            </div>
            <button class="admin-icon-button" id="logout-btn" aria-label="Logout">
                <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M15.75 3a.75.75 0 010 1.5H7.5a1.5 1.5 0 00-1.5 1.5v12a1.5 1.5 0 001.5 1.5h8.25a.75.75 0 010 1.5H7.5A3 3 0 014.5 18V6A3 3 0 017.5 3h8.25zm4.53 8.47l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H11.5a.75.75 0 000 1.5h6.44l-1.72 1.72a.75.75 0 001.06 1.06l3-3a.75.75 0 000-1.06z"/>
                </svg>
            </button>
        </header>

        <main class="admin-dashboard-main">
            <section class="admin-welcome-card">
                <h2>Welcome back!</h2>
                <p>Upload, curate, and manage Impact Decor visuals that tell our story and inspire our customers.</p>

                <div class="admin-tab-switcher" role="tablist" aria-label="Media type">
                    <button class="admin-tab-chip active" type="button" data-tab-target="images" id="tab-images" aria-selected="true" aria-controls="images-tab">Images</button>
                    <button class="admin-tab-chip" type="button" data-tab-target="videos" id="tab-videos" aria-selected="false" aria-controls="videos-tab">Videos</button>
                </div>
            </section>

            <section id="images-tab" class="admin-panel active" aria-labelledby="tab-images">
                <div class="admin-panel-card">
                    <div class="admin-panel-header">
                        <h3>Upload Image</h3>
                        <p>Add fresh projects, installations, and gallery imagery.</p>
                    </div>
                    <form id="upload-image-form" class="admin-form">
                        <div class="form-group">
                            <label for="image-title">Title *</label>
                            <input type="text" id="image-title" required placeholder="Image title">
                        </div>
                        <div class="form-group">
                            <label for="image-description">Description *</label>
                            <textarea id="image-description" required placeholder="Write a short description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="image-service">Service Category *</label>
                            <select id="image-service" required>
                                <option value="">Choose a service...</option>
                                <option value="painting-decorating">üé® Painting & Decorating</option>
                                <option value="wallpapering">üìÑ Wallpapering</option>
                                <option value="tiling-flooring">üî≤ Tiling & Flooring</option>
                                <option value="plastering">üß± Plastering</option>
                                <option value="plumbing">üîß Plumbing</option>
                                <option value="property-maintenance">üèóÔ∏è Property Maintenance</option>
                                <option value="carpentry-fitting">ü™ö Carpentry & Fitting</option>
                                <option value="coving-moulding">üèõÔ∏è Coving & Moulding</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="image-file">Image File *</label>
                            <input type="file" id="image-file" accept="image/*" required>
                            <div id="image-preview" class="file-preview"></div>
                        </div>
                        <button type="submit" class="admin-btn admin-btn-primary" id="upload-image-btn">Upload Image</button>
                    </form>
                </div>

                <div class="admin-list-card">
                    <div class="admin-panel-header">
                        <h3>Uploaded Images</h3>
                        <p>Manage the visuals presented across the Impact Decor experience.</p>
                    </div>
                    <div id="images-list" class="media-grid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading...</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="videos-tab" class="admin-panel" aria-labelledby="tab-videos">
                <div class="admin-panel-card">
                    <div class="admin-panel-header">
                        <h3>Upload Video</h3>
                        <p>Share walkthroughs, testimonials, or campaign highlights.</p>
                    </div>
                    <form id="upload-video-form" class="admin-form">
                        <div class="form-group">
                            <label for="video-title">Title *</label>
                            <input type="text" id="video-title" required placeholder="Video title">
                        </div>
                        <div class="form-group">
                            <label for="video-description">Description *</label>
                            <textarea id="video-description" required placeholder="Write a short description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="video-service">Service Category *</label>
                            <select id="video-service" required>
                                <option value="">Choose a service...</option>
                                <option value="painting-decorating">üé® Painting & Decorating</option>
                                <option value="wallpapering">üìÑ Wallpapering</option>
                                <option value="tiling-flooring">üî≤ Tiling & Flooring</option>
                                <option value="plastering">üß± Plastering</option>
                                <option value="plumbing">üîß Plumbing</option>
                                <option value="property-maintenance">üèóÔ∏è Property Maintenance</option>
                                <option value="carpentry-fitting">ü™ö Carpentry & Fitting</option>
                                <option value="coving-moulding">üèõÔ∏è Coving & Moulding</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="video-file">Video File *</label>
                            <input type="file" id="video-file" accept="video/*" required>
                            <div id="video-preview" class="file-preview"></div>
                        </div>
                        <button type="submit" class="admin-btn admin-btn-primary" id="upload-video-btn">Upload Video</button>
                    </form>
                </div>

                <div class="admin-list-card">
                    <div class="admin-panel-header">
                        <h3>Uploaded Videos</h3>
                        <p>Review published clips across the Impact Decor channels.</p>
                    </div>
                    <div id="videos-list" class="media-grid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading...</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h3>Confirm Delete</h3>
            <p>Are you sure you want to delete this item? This action cannot be undone.</p>
            <div class="modal-actions">
                <button class="admin-btn admin-btn-outline" onclick="closeDeleteModal()">Cancel</button>
                <button class="admin-btn admin-btn-secondary" id="confirm-delete-btn">Delete</button>
            </div>
        </div>
    </div>

    <!-- Edit Media Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <h3>Edit Media Details</h3>
            <form id="edit-media-form" class="admin-form">
                <input type="hidden" id="edit-media-id">
                <input type="hidden" id="edit-media-type">
                <div class="form-group">
                    <label for="edit-media-title">Title *</label>
                    <input type="text" id="edit-media-title" required placeholder="Update title">
                </div>
                <div class="form-group">
                    <label for="edit-media-description">Description *</label>
                    <textarea id="edit-media-description" required placeholder="Update description"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="admin-btn admin-btn-outline" onclick="closeEditModal()">Cancel</button>
                    <button type="submit" class="admin-btn admin-btn-primary" id="save-edit-btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="../js/firebase-config.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/admin-dashboard.js"></script>
</body>
</html>
